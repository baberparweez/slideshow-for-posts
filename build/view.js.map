{"version":3,"file":"view.js","mappings":"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","sources":["webpack://slideshow-for-posts/./src/view.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\n    document\n        .querySelectorAll(\".slideshow_for_posts--container\")\n        .forEach((container) => {\n            // Initial API call setup\n            const numberOfPosts =\n                container.getAttribute(\"data-num-posts\") || \"3\";\n            const order = container.getAttribute(\"data-sort-order\") || \"desc\";\n            const customApiUrl =\n                container.getAttribute(\"data-custom-api-url\") ||\n                \"https://wptavern.com\";\n            const initialApiUrl = `${customApiUrl}/wp-json/wp/v2/posts?_embed&per_page=${numberOfPosts}&order=${order}&orderby=date`;\n\n            // Fetch initial posts\n            fetchAndUpdatePosts(initialApiUrl, container, numberOfPosts, order);\n\n            // Add keypress event listener for navigating slides\n            document.addEventListener(\"keydown\", function (e) {\n                const prevBtn = container.querySelector(\n                    \".slideshow_for_posts--prev\"\n                );\n                const nextBtn = container.querySelector(\n                    \".slideshow_for_posts--next\"\n                );\n\n                if (e.key === \"ArrowLeft\" && prevBtn) {\n                    prevBtn.click(); // Simulate click on the previous button\n                } else if (e.key === \"ArrowRight\" && nextBtn) {\n                    nextBtn.click(); // Simulate click on the next button\n                }\n            });\n        });\n});\n\nfunction renderPosts(posts, container) {\n    let slidesOuter = container.querySelector(\n        \".slideshow_for_posts--slides_outer\"\n    );\n    let slidesContainer = container.querySelector(\n        \".slideshow_for_posts--slides\"\n    );\n    if (!slidesContainer && !slidesContainer) {\n        slidesOuter = document.createElement(\"div\");\n        slidesOuter.className = \"slideshow_for_posts--slides_outer\";\n        container.appendChild(slidesOuter);\n\n        slidesContainer = document.createElement(\"div\");\n        slidesContainer.className = \"slideshow_for_posts--slides\";\n        slidesOuter.appendChild(slidesContainer);\n    } else {\n        slidesContainer.innerHTML = \"\"; // Clear existing slides for new content\n    }\n\n    posts.forEach((post) => {\n        const slide = document.createElement(\"div\");\n        slide.className = \"slideshow_for_posts--slide\";\n\n        const title = post.title.rendered;\n        const imageUrl = post._embedded[\"wp:featuredmedia\"]\n            ? post._embedded[\"wp:featuredmedia\"][0].source_url\n            : \"\";\n        const date = new Date(post.date).toLocaleDateString();\n        const excerpt = post.excerpt.rendered;\n        const link = post.link;\n\n        slide.innerHTML = `\n            <div class=\"slideshow_for_posts--content\">\n                ${imageUrl ? `<img src=\"${imageUrl}\" alt=\"${title}\" />` : \"\"}\n                <a href=\"${link}\" target=\"_blank\"><h4 class=\"title\">${title}</h4></a>\n                <p class=\"date\">${date}</p>\n                <div class=\"excerpt\">${excerpt}</div>\n                <a class=\"button\" href=\"${link}\" target=\"_blank\">Read more</a>\n            </div>\n        `;\n\n        slidesOuter.appendChild(slidesContainer);\n        slidesContainer.appendChild(slide);\n    });\n\n    // Add or update the form for custom API URL input\n    let form = container.querySelector(\"form\");\n    if (!form) {\n        form = document.createElement(\"form\");\n        form.classList.add(\"slideshow_for_posts--form\");\n        form.innerHTML = `\n              <input type=\"text\" id=\"customApiUrl\" placeholder=\"Enter WordPress site URL\" />\n              <button type=\"submit\">New Posts</button>\n          `;\n        slidesOuter.prepend(form);\n    }\n\n    form.onsubmit = (e) => {\n        e.preventDefault();\n        const numberOfPosts = container.getAttribute(\"data-num-posts\") || \"3\";\n        const order = container.getAttribute(\"data-sort-order\") || \"desc\";\n        const customApiUrl = form.querySelector(\"#customApiUrl\").value.trim();\n        if (customApiUrl) {\n            // Adjusted API call to use the provided URL\n            const fullApiUrl = `${customApiUrl}/wp-json/wp/v2/posts?_embed&per_page=${numberOfPosts}&order=${order}&orderby=date`;\n            fetchAndUpdatePosts(fullApiUrl, container, numberOfPosts, order);\n        }\n    };\n\n    // Reinitialize the slider\n    setupSlider(container);\n}\n\nfunction fetchAndUpdatePosts(apiUrl, container, numberOfPosts, order) {\n    const cacheKey = `posts_${encodeURIComponent(apiUrl)}`;\n\n    const cachedPosts = sessionStorage.getItem(cacheKey);\n    if (cachedPosts) {\n        const posts = JSON.parse(cachedPosts);\n        renderPosts(posts, container);\n        setupSlider(container);\n    } else {\n        fetch(\n            `${apiUrl}/wp-json/wp/v2/posts?_embed&per_page=${numberOfPosts}&order=${order}&orderby=date`\n        )\n            .then((response) => response.json())\n            .then((posts) => {\n                sessionStorage.setItem(cacheKey, JSON.stringify(posts));\n                renderPosts(posts, container);\n                setupSlider(container);\n            })\n            .catch((error) => console.error(\"Fetching posts failed:\", error));\n    }\n}\n\nfunction setupSlider(container) {\n    const existingNextBtn = container.querySelector(\n        \".slideshow_for_posts--next\"\n    );\n    const existingPrevBtn = container.querySelector(\n        \".slideshow_for_posts--prev\"\n    );\n    if (existingNextBtn) existingNextBtn.remove();\n    if (existingPrevBtn) existingPrevBtn.remove();\n\n    let currentIndex = 0;\n    const slidesContainer = container.querySelector(\n        \".slideshow_for_posts--slides\"\n    );\n    const slides = slidesContainer.querySelectorAll(\n        \".slideshow_for_posts--slide\"\n    );\n    const totalSlides = slides.length;\n    let startX, endX;\n\n    function updateActiveSlide() {\n        slides.forEach((slide, index) => {\n            if (index === currentIndex) {\n                slide.classList.add(\"active\");\n            } else {\n                slide.classList.remove(\"active\");\n            }\n        });\n    }\n\n    // Initialize the first slide as active\n    updateActiveSlide();\n\n    function updateSlidePosition() {\n        const newTransformValue = `translateX(-${currentIndex * 100}%)`;\n        slidesContainer.style.transform = newTransformValue;\n    }\n\n    function goToPreviousSlide() {\n        if (currentIndex === 0) {\n            // If we're at the first slide, move to the last slide from the left\n            slidesContainer.style.transition = \"none\";\n            currentIndex = totalSlides - 1;\n            updateActiveSlide();\n            slidesContainer.style.transform = `translateX(-${\n                totalSlides * 100\n            }%)`;\n            setTimeout(() => {\n                slidesContainer.style.transition = \"transform 0.3s ease\";\n                updateSlidePosition();\n            }, 10);\n        } else {\n            currentIndex--;\n            updateActiveSlide();\n            updateSlidePosition();\n        }\n    }\n\n    function goToNextSlide() {\n        if (currentIndex === totalSlides - 1) {\n            // If we're at the last slide, move to the first slide from the right\n            slidesContainer.style.transition = \"none\";\n            currentIndex = 0;\n            updateActiveSlide();\n            slidesContainer.style.transform = `translateX(${\n                totalSlides * 100\n            }%)`;\n            setTimeout(() => {\n                slidesContainer.style.transition = \"transform 0.3s ease\";\n                updateSlidePosition();\n            }, 10);\n        } else {\n            currentIndex++;\n            updateActiveSlide();\n            updateSlidePosition();\n        }\n    }\n\n    const onDragStart = (e) => {\n        startX = e.type === \"touchstart\" ? e.touches[0].clientX : e.clientX;\n        currentX = startX;\n        slidesContainer.style.cursor = \"grabbing\";\n    };\n\n    const onDragMove = (e) => {\n        e.preventDefault(); // Prevent default touch/mouse behavior\n\n        // Check for touch events and mouse events separately\n        if (e.type === \"touchmove\") {\n            currentX = e.touches[0].clientX;\n        } else {\n            return; // Exit the function if it's neither a touchmove nor a valid mousemove\n        }\n\n        const diffX = currentX - startX;\n        const slideWidth = slidesContainer.offsetWidth;\n        const maxTranslateX = (totalSlides - 1) * slideWidth;\n        const translateX = Math.min(Math.max(-maxTranslateX, diffX), 0);\n\n        slidesContainer.style.transform = `translateX(${translateX}px)`;\n    };\n\n    const onDragEnd = (e) => {\n        const endX =\n            e.type === \"touchend\" ? e.changedTouches[0].clientX : e.clientX;\n        const threshold = 50; // Minimum distance to trigger a slide change\n        const slideWidth = slidesContainer.offsetWidth;\n        const maxTranslateX = (totalSlides - 1) * slideWidth;\n\n        if (endX - startX > threshold) {\n            // Go to previous slide\n            if (currentIndex === 0) {\n                // If we're at the first slide, move to the last slide from the left\n                slidesContainer.style.transition = \"none\";\n                currentIndex = totalSlides - 1;\n                updateActiveSlide();\n                slidesContainer.style.transform = `translateX(-${\n                    totalSlides * 100\n                }%)`;\n                setTimeout(() => {\n                    slidesContainer.style.transition =\n                        \"transform 0.3s ease-in-out\";\n                    updateSlidePosition();\n                }, 10);\n            } else {\n                currentIndex--;\n                updateActiveSlide();\n                updateSlidePosition();\n            }\n        } else if (startX - endX > threshold) {\n            // Go to next slide\n            if (currentIndex === totalSlides - 1) {\n                // If we're at the last slide, move to the first slide from the right\n                slidesContainer.style.transition = \"none\";\n                currentIndex = 0;\n                updateActiveSlide();\n                slidesContainer.style.transform = `translateX(${\n                    totalSlides * 100\n                }%)`;\n                setTimeout(() => {\n                    slidesContainer.style.transition =\n                        \"transform 0.3s ease-in-out\";\n                    updateSlidePosition();\n                }, 10);\n            } else {\n                currentIndex++;\n                updateActiveSlide();\n                updateSlidePosition();\n            }\n        } else {\n            updateSlidePosition(); // Snap back to the current slide\n        }\n\n        currentX = null; // Reset currentX to stop further translation\n        slidesContainer.style.cursor = \"\";\n    };\n    // Attach the touch event listeners to the container for mobile\n    container.addEventListener(\"touchstart\", onDragStart);\n    container.addEventListener(\"touchmove\", onDragMove);\n    container.addEventListener(\"touchend\", onDragEnd);\n\n    container.addEventListener(\"mousedown\", onDragStart);\n    container.addEventListener(\"mousemove\", onDragMove);\n    container.addEventListener(\"mouseup\", onDragEnd);\n\n    // Create navigation if more than one slide\n    if (slides.length > 1) {\n        const prevBtn = document.createElement(\"button\");\n        prevBtn.innerHTML =\n            '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"><path d=\"M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8.009 8.009 0 0 1-8 8z\"/><path d=\"M13.293 7.293 8.586 12l4.707 4.707 1.414-1.414L11.414 12l3.293-3.293-1.414-1.414z\"/></svg>';\n        prevBtn.classList.add(\"slideshow_for_posts--prev\");\n        prevBtn.addEventListener(\"click\", goToPreviousSlide);\n\n        const nextBtn = document.createElement(\"button\");\n        nextBtn.innerHTML =\n            '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\"><path d=\"M12 2a10 10 0 1 0 10 10A10.011 10.011 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8.009 8.009 0 0 1-8 8z\"/><path d=\"M13.293 7.293 8.586 12l4.707 4.707 1.414-1.414L11.414 12l3.293-3.293-1.414-1.414z\"/></svg>';\n        nextBtn.classList.add(\"slideshow_for_posts--next\");\n        nextBtn.addEventListener(\"click\", goToNextSlide);\n\n        container.appendChild(prevBtn);\n        container.appendChild(nextBtn);\n    }\n}\n"],"names":["document","addEventListener","querySelectorAll","forEach","container","numberOfPosts","getAttribute","order","customApiUrl","initialApiUrl","fetchAndUpdatePosts","e","prevBtn","querySelector","nextBtn","key","click","renderPosts","posts","slidesOuter","slidesContainer","createElement","className","appendChild","innerHTML","post","slide","title","rendered","imageUrl","_embedded","source_url","date","Date","toLocaleDateString","excerpt","link","form","classList","add","prepend","onsubmit","preventDefault","value","trim","fullApiUrl","setupSlider","apiUrl","cacheKey","encodeURIComponent","cachedPosts","sessionStorage","getItem","JSON","parse","fetch","then","response","json","setItem","stringify","catch","error","console","existingNextBtn","existingPrevBtn","remove","currentIndex","slides","totalSlides","length","startX","endX","updateActiveSlide","index","updateSlidePosition","newTransformValue","style","transform","goToPreviousSlide","transition","setTimeout","goToNextSlide","onDragStart","type","touches","clientX","currentX","cursor","onDragMove","diffX","slideWidth","offsetWidth","maxTranslateX","translateX","Math","min","max","onDragEnd","changedTouches","threshold"],"sourceRoot":""}